name = "ai-news-newsletter"
main = "worker.js"
compatibility_date = "2025-01-15"

# Cron trigger - runs daily at 8:00 AM UTC
# Adjust the time to your preferred schedule
# Format: minute hour day month day-of-week
# Examples:
#   "0 8 * * *"   - 8:00 AM UTC every day
#   "0 12 * * *"  - 12:00 PM UTC every day (noon)
#   "0 16 * * *"  - 4:00 PM UTC every day
#   "0 0 * * *"   - Midnight UTC every day
[triggers]
crons = ["0 8 * * *"]

# Environment variables (secrets should be set via `wrangler secret put`)
# These are placeholders - actual values set via Cloudflare dashboard or wrangler commands
[vars]
# OPENAI_API_KEY will be set as a secret
# PLUNK_API_KEY will be set as a secret
# PLUNK_BROADCAST_MODE will be set as a secret ("true" or "false")
# RECIPIENT_EMAIL will be set as a secret (only needed if broadcast mode is false)
# TRIGGER_SECRET will be set as a secret

# Build configuration
[build]
command = ""

# Note: To set secrets, run:
# wrangler secret put OPENAI_API_KEY
# wrangler secret put PLUNK_API_KEY
# wrangler secret put PLUNK_BROADCAST_MODE    # Set to "true" to broadcast to all contacts
# wrangler secret put RECIPIENT_EMAIL         # Only needed if PLUNK_BROADCAST_MODE is "false"
# wrangler secret put TRIGGER_SECRET
